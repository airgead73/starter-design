<%- include ('./modalPreview') %>
  <article>
    <h2>photo dashboard</h2>
    <table class="table">
      <thead class="thead">
        <tr class="dark">
          <th class="h3">thumbnail</th>
          <th class="h3">work</th>
          <th class="h3" colspan="2">title</th>
        </tr>
      </thead>
      <tbody class="tbody">
        <% photos.forEach(photo=> { %>
          <tr>
            <td width="100px">
              <img src="<%= photo.url_thumbnail %>" alt="<%= photo.work %> title=" width="100px" <%=photo.work %>">
            </td>
            <td>
              <%= photo.work %>
            </td>
            <td>
              <%= photo.title %>
            </td>
            <td width="20px">
              <button data-api data-method="delete" data-action="/api/photos/<%= photo.id %>"
                data-message="Do you want to delete <%= photo.work %>?">
                <i class="fa-solid fa-trash"></i>
              </button>
            </td>


          </tr>

          <% }) %>
      </tbody>
    </table>
  </article>
  <aside>
    <form class="form" id="addPhoto" action="/api/photos" method="POST" novalidate>
      <h2 class="form__title">add photo</h2>
      <ul class="form__controls">
        <li class="control _100">
          <label for="work" class="control__label">
            work
          </label>
          <input type="text" name="work" id="work" class="control__field" aria-describedby="errorwork" form="addPhoto"
            required>
          <p class="control__error" id="errorwork">Work is required.</p>
        </li>
        <li class="control _100">
          <label for="title" class="control__label">
            title
          </label>
          <input type="text" name="title" id="title" class="control__field" aria-describedby="errortitle"
            form="addPhoto" required>
          <p class="control__error" id="errortitle">Title is required.</p>
        </li>
        <li class="control _100">
          <label for="photo" class="control__label">
            select photo
          </label>
          <input type="file" name="photo" id="photo" class="control__field" aria-describedby="errorphoto"
            form="addPhoto" required>
          <p class="control__error" id="errorphoto">Photo is required.</p>
        </li>
        <li class="control control--form _100 j-end">
          <button class="btn" form="addPhoto" type="submit">submit</button>
        </li>
      </ul>
    </form>
  </aside>